# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—é–º–µ –Ω–∞ —Å–∞–π—Ç–µ HH.RU

[English version](README_EN.md)

üïí –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–∑—é–º–µ –Ω–∞ hh.ru. –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω–æ, —Ç–∞–∫ –∏ —á–µ—Ä–µ–∑ GitHub Actions.

## üìù –û–ø–∏—Å–∞–Ω–∏–µ
–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–∑—é–º–µ –Ω–∞ —Å–∞–π—Ç–µ HeadHunter.ru, —á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –≤–∞—à–µ–≥–æ —Ä–µ–∑—é–º–µ –≤ –ø–æ–∏—Å–∫–µ. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫, —Ç–∞–∫ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ GitHub Actions.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—é–º–µ —á–µ—Ä–µ–∑ [hh.ru API](https://github.com/hhru/api)
- ‚è∞ –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞ —á–µ—Ä–µ–∑ GitHub Actions
- üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –≤ `.env` —Ñ–∞–π–ª–µ
- üîë –ü–æ–¥–¥–µ—Ä–∂–∫–∞ OAuth2 —Å refresh token
- üì± –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –≤ Telegram
- üõ†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏

## üß∞ –ß—Ç–æ –Ω—É–∂–Ω–æ

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ hh.ru**  
   https://dev.hh.ru/admin  
   –ü–æ–ª—É—á–∏ `client_id` –∏ `client_secret`.

2. **–ü–æ–ª—É—á–∏—Ç—å `refresh_token`**  
   –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∞–µ—à—å `code` —á–µ—Ä–µ–∑ OAuth, –∑–∞—Ç–µ–º –æ–±–º–µ–Ω–∏–≤–∞–µ—à—å –µ–≥–æ –Ω–∞ `access_token` –∏ `refresh_token`.

3. **–£–∑–Ω–∞—Ç—å ID —Å–≤–æ–∏—Ö —Ä–µ–∑—é–º–µ**  
   –í—ã–ø–æ–ª–Ω–∏ –∑–∞–ø—Ä–æ—Å `GET https://api.hh.ru/resumes/mine`, –∏—Å–ø–æ–ª—å–∑—É—è `access_token`.

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**  
   - –°–æ–∑–¥–∞–π –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/botfather)
   - –ü–æ–ª—É—á–∏ `TG_BOT_TOKEN`
   - –£–∑–Ω–∞–π —Å–≤–æ–π `TG_CHAT_ID` (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ [@userinfobot](https://t.me/userinfobot))

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone https://github.com/gotemapak/automate_update_resume_hh.git
cd automate_update_resume_hh
```

### 2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
# –°–æ–∑–¥–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –µ–≥–æ
# –î–ª—è Windows:
venv\Scripts\activate
# –î–ª—è macOS/Linux:
source venv/bin/activate

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
HH_CLIENT_ID=—Ç–≤–æ–π_client_id
HH_CLIENT_SECRET=—Ç–≤–æ–π_client_secret
HH_REFRESH_TOKEN=—Ç–≤–æ–π_refresh_token
HH_RESUME_IDS=resume_id1,resume_id2,resume_id3

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
HH_ACCESS_TOKEN=–≤—Ä–µ–º–µ–Ω–Ω—ã–π_access_token

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram
TG_BOT_TOKEN=—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
TG_CHAT_ID=—Ç–≤–æ–π_chat_id
```

### 4. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç
```bash
python resume_bot.py
```

## üîç –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ HH.ru

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [dev.hh.ru/admin](https://dev.hh.ru/admin)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü–æ–ª—É—á–∏—Ç–µ `client_id` –∏ `client_secret`
4. –î–æ–±–∞–≤—å—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ redirect URI: `http://localhost:8080`
5. –ü–æ–ª—É—á–∏—Ç–µ `code` —á–µ—Ä–µ–∑ OAuth:
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://hh.ru/oauth/authorize?response_type=code&client_id=YOUR_CLIENT_ID&redirect_uri=http://localhost:8080`
   - –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ `code` –≤ URL
6. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π `code` –≤ `.env` –∫–∞–∫ `HH_AUTH_CODE`
7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç - –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç `access_token` –∏ `refresh_token`

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ ID —Ä–µ–∑—é–º–µ

1. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è `access_token`, –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
2. –í –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫ –≤–∞—à–∏—Ö —Ä–µ–∑—é–º–µ —Å –∏—Ö ID
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω—É–∂–Ω—ã–µ ID –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `HH_RESUME_IDS` —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞

1. –ù–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/botfather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot` –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –≤ `TG_BOT_TOKEN`
4. –ù–∞–π–¥–∏—Ç–µ [@userinfobot](https://t.me/userinfobot)
5. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –µ–º—É –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π ID –≤ `TG_CHAT_ID`

## üìÜ GitHub Actions (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å)

–§–∞–π–ª `update_resume.yml` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

```yaml
on:
  schedule:
    - cron: "0 */4 * * *"  # –ö–∞–∂–¥—ã–µ 4 —á–∞—Å–∞
  workflow_dispatch:       # –í—Ä—É—á–Ω—É—é
```

–í GitHub ‚Üí Settings ‚Üí Secrets –¥–æ–±–∞–≤—å:

| –ù–∞–∑–≤–∞–Ω–∏–µ              | –û–ø–∏—Å–∞–Ω–∏–µ                        |
|------------------------|---------------------------------|
| `HH_CLIENT_ID`         | ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è                   |
| `HH_CLIENT_SECRET`     | –°–µ–∫—Ä–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è               |
| `HH_REFRESH_TOKEN`     | –¢–æ–∫–µ–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è                |
| `HH_RESUME_IDS`        | ID —Ä–µ–∑—é–º–µ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é         |
| `TG_BOT_TOKEN`         | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞             |
| `TG_CHAT_ID`           | ID —á–∞—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π         |

## üß™ –û—Ç–ª–∞–¥–∫–∞ –≤—Ä—É—á–Ω—É—é

–ï—Å–ª–∏ `refresh_token` –µ—â—ë –Ω–µ –∏—Å—Ç—ë–∫ –∏ HH –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `token not expired`, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å `access_token` –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `HH_ACCESS_TOKEN`.

## üì± –ü—Ä–∏–º–µ—Ä—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –£—Å–ø–µ—à–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```
‚úÖ –†–µ–∑—é–º–µ <b>123456</b> –æ–±–Ω–æ–≤–ª–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ.

üíº ID —Ä–µ–∑—é–º–µ: <code>123456</code>

üïí –û–±–Ω–æ–≤–ª–µ–Ω–æ: 26.03.2024 16:45:30
```

### –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```
‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ä–µ–∑—é–º–µ <b>123456</b>:

üíº ID —Ä–µ–∑—é–º–µ: <code>123456</code>
‚ö†Ô∏è –°—Ç–∞—Ç—É—Å: 400
üìù –û—Ç–≤–µ—Ç: {"errors": [{"type": "error", "value": "Resume not found"}]}

üïí –û–±–Ω–æ–≤–ª–µ–Ω–æ: 26.03.2024 16:45:30
```

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ö–∞–∫ —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ä–µ–∑—é–º–µ?
A: –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞ —á–µ—Ä–µ–∑ GitHub Actions. –≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞ HH.ru - –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –∞–∫–∫–∞—É–Ω—Ç–µ —Ä–µ–∑—é–º–µ –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –Ω–µ —á–∞—â–µ, —á–µ–º —Ä–∞–∑ –≤ 4 —á–∞—Å–∞. –ï—Å–ª–∏ –≤—ã –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∑—é–º–µ —á–∞—â–µ, HH.ru –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É.

### Q: –ù—É–∂–Ω–æ –ª–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–∫–µ–Ω—ã?
A: `refresh_token` –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 30 –¥–Ω–µ–π. –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–¥–æ–º–∏—Ç –≤–∞—Å, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω—ã.

### Q: –ü–æ—á–µ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç Telegram?
A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ:
1. –ë–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ —á–∞—Ç
2. –£ –±–æ—Ç–∞ –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π
3. –ü—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω—ã `TG_BOT_TOKEN` –∏ `TG_CHAT_ID`

---

–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è —á—Ç–æ–±—ã —Ç–≤–æ—ë —Ä–µ–∑—é–º–µ –≤—Å–µ–≥–¥–∞ –±—ã–ª–æ –Ω–∞–≤–µ—Ä—Ö—É.
